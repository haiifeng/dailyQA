<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // async function async1() {
        //     console.log('async1 start');
        //     await async2();
        //     console.log('async1 end')
        // }
        // async function async2() {
        //     console.log('async2');
        // }
        // async1();
        // console.log('start')
        // 'async1 start'
        // 'async2'
        // 'start'
        // 'async1 end'

        // async function async1() {
        //     console.log("async1 start");
        //     new Promise(resolve => {
        //         console.log('promise')
        //     })
        //     console.log("async1 end");
        // }
        // async1();
        // console.log("start")
        // 'async start'
        // 'promise'
        // 'async1 end'
        // 'start'

        // async function async1() {
        //     console.log('async1 start');
        //     await async2();
        //     console.log('async1 end')
        // }
        // async function async2() {
        //     setTimeout(() => {
        //         console.log('timer')
        //     }, 0);
        //     console.log('async2');
        // }
        // async1();
        // console.log('start');
        // //async1 start async2 start async1 end timer

        // async function async1() {
        //     console.log('async1 start');
        //     await async2();
        //     console.log('async1 end');
        //     setTimeout(() => {
        //         console.log('timer1')
        //     }, 0)
        // }
        // async function async2() {
        //     setTimeout(() => {
        //         console.log('timer2')
        //     }, 0);
        //     console.log('async2')
        // }
        // async1();
        // setTimeout(() => {
        //     console.log('timer3')
        // }, 0);
        // console.log('start');
        //async1 start
        //async2
        //start
        //async1 end
        //timer2
        //timer3
        //timer1

        // async function fn() {
        //     return 123;
        // }
        // fn().then(res => { console.log(res) })
        //123

        async function async1() {
            console.log('async1 start');
            await new Promise(resolve => {
                console.log('promise1')
            })
            console.log('async1 success');
            return 'async1 end'
        }
        console.log('script start');
        async1().then(res => {
            console.log(res)
        })
        console.log('script end')
        //script start
        //async1 start
        //promise1
        //script end

        // async function async1() {
        //     console.log('async1 start');
        //     await new Promise(resolve => {
        //         console.log('promise1')
        //         resolve('promise1 resolve')
        //     }).then(res => console.log(res))
        //     console.log('async1 success');
        //     return 'async1 end'
        // }
        // console.log('srcipt start')
        // async1().then(res => console.log(res))
        // console.log('srcipt end')
        //srcipt start
        //async1 start
        //promise1
        //srcipt end
        //promise1 resolve
        //async1 success
        //async1 end

        // async function async1() {
        //     console.log('async1 start');
        //     await new Promise(resolve => {
        //         console.log('promise1');
        //         resolve('promise1 resolve')
        //     })
        //     console.log('async1 success')
        //     return 'async1 end';
        // }
        // console.log('script start');
        // async1().then(res => {
        //     console.log(res);
        // });
        // new Promise(resolve => {
        //     console.log('promise2');
        //     setTimeout(() => {
        //         console.log('timer')
        //     }, 0);
        // })
        //script start
        //async1 start
        //promise1
        //promise2
        //async1 success
        //async1 end
        //timer

        // async function async1() {
        //     console.log('async1 start');
        //     await async2();
        //     console.log('async1 end')
        // }
        // async function async2() {
        //     console.log('async2');
        // }
        // console.log('script start');
        // setTimeout(() => {
        //     console.log('settimerout')
        // }, 0)
        // async1();
        // new Promise(function (resolve) {
        //     console.log('promise1');
        //     resolve()
        // })
        //     .then(function () { console.log('promise2') })
        // console.log('script end');
        //script start
        //async1 start
        //async2
        //promise1
        //script end
        //async1 end
        //promise2
        //settimerout

        async function testSomething() {
            console.log('执行testSometing');
            return 'testSomething'
        }
        async function testAsync() {
            console.log('执行testAsync');
            return Promise.resolve('hello async')
        }
        async function test() {
            console.log('test start ...');
            const v1 = await testSomething();
            console.log(v1);
            const v2 = await testAsync();
            console.log(v2);
            console.log(v1, v2)
        }
        test();
        var promise = new Promise(resolve => {
            console.log('promies start...');
            resolve('promise')
        })
        promise.then(val => { console.log(val) })
        console.log('tese end ...')
        //test start ...
        //执行testSometing
        //promies start...
        //tese end ...
        //testSomething
        //执行testAsync
        //promise
        //hello async
        //testSomething hello async
    </script>
</body>

</html>